{"ast":null,"code":"import _slicedToArray from\"D:/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/redux/Lover-Flower/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import styles from'./style/Search.module.scss';import search from'../../img/search.svg';import SliderCart from'../../entities/SliderCart/index.tsx';import img from'../../img/product-img.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),disabled=_React$useState2[0],setDisabled=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),value=_React$useState4[0],setValue=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),choosedString=_React$useState6[0],setChoosedString=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),products=_React$useState8[0],setproducts=_React$useState8[1];function openSearch(event){setDisabled(true);document.body.style.overflow='hidden';};function closeSearch(event){event.preventDefault();setDisabled(false);setValue('');setproducts([]);document.body.style.overflow='';};function inputString(event){setValue(event.target.value);};function searchByString(event){event.preventDefault();setChoosedString(value);var string=value.toUpperCase().replaceAll(' ','%20');try{fetch(\"http://localhost:5000/api/products/:\".concat(string),{method:'get',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(result){return setproducts(result);});}catch(err){console.error(err);};};return/*#__PURE__*/_jsxs(\"form\",{className:styles.search,onSubmit:searchByString,children:[/*#__PURE__*/_jsxs(\"label\",{className:\"\".concat(styles.block,\" \").concat(disabled&&styles.blockActive),children:[/*#__PURE__*/_jsx(\"img\",{src:search,alt:\"search\",onClick:searchByString}),/*#__PURE__*/_jsx(\"input\",{className:styles.text,type:\"text\",placeholder:\"\\u041F\\u041E\\u0418\\u0421\\u041A\",value:value,onClick:openSearch,onInput:inputString,onSubmit:searchByString}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.close,\" \").concat(disabled&&styles.closeActive),children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",onClick:closeSearch,children:[/*#__PURE__*/_jsx(\"path\",{d:\"M13.4294 4.06152L13.9385 4.57056L4.57056 13.9378L4.06152 13.4291L13.4294 4.06152Z\",fill:\"#7C7C7C\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4.57056 4.06152L13.9385 13.4287L13.4294 13.9381L4.06152 4.57092L4.57056 4.06152Z\",fill:\"#7C7C7C\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.ressultContainer,\" \").concat(disabled&&styles.ressultContainerActive),children:[/*#__PURE__*/_jsxs(\"h2\",{className:styles.serchTtl,children:[\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442 \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430: \",choosedString]}),products.length!==0?/*#__PURE__*/_jsx(\"div\",{className:styles.productWrapper,children:products.map(function(obj){return/*#__PURE__*/_jsx(SliderCart,{id:obj.id,img:img,ttl:obj.title,cost:obj.cost});})}):/*#__PURE__*/_jsxs(\"div\",{className:styles.notFoundBlock,children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.notFound,children:[\"\\u041F\\u043E \\u0434\\u0430\\u043D\\u043D\\u043E\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E. \",/*#__PURE__*/_jsx(\"br\",{}),\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437 \\u0438\\u043B\\u0438 \\u043F\\u0435\\u0440\\u0435\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"greenBtn\",children:\"\\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\"})]})]})]});};export default Search;","map":{"version":3,"names":["React","styles","search","SliderCart","img","jsx","_jsx","jsxs","_jsxs","Search","_React$useState","useState","_React$useState2","_slicedToArray","disabled","setDisabled","_React$useState3","_React$useState4","value","setValue","_React$useState5","_React$useState6","choosedString","setChoosedString","_React$useState7","_React$useState8","products","setproducts","openSearch","event","document","body","style","overflow","closeSearch","preventDefault","inputString","target","searchByString","string","toUpperCase","replaceAll","fetch","concat","method","headers","then","response","json","result","err","console","error","className","onSubmit","children","block","blockActive","src","alt","onClick","text","type","placeholder","onInput","close","closeActive","xmlns","width","height","viewBox","fill","d","ressultContainer","ressultContainerActive","serchTtl","length","productWrapper","map","obj","id","ttl","title","cost","notFoundBlock","notFound"],"sources":["D:/Рабочий стол/redux/Lover-Flower/client/src/features/Search/Search.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './style/Search.module.scss';\r\nimport search from '../../img/search.svg';\r\nimport SliderCart from '../../entities/SliderCart/index.tsx';\r\nimport img from '../../img/product-img.png';\r\n\r\nconst Search = () => {\r\n    const [disabled, setDisabled] = React.useState(false);\r\n    const [value, setValue] = React.useState('');\r\n    const [choosedString, setChoosedString] = React.useState('');\r\n    const [products, setproducts] = React.useState([]);\r\n\r\n    function openSearch(event: React.MouseEvent<HTMLElement>) {\r\n        setDisabled(true);\r\n        document.body.style.overflow = 'hidden';\r\n    };\r\n    \r\n    function closeSearch(event: any) {\r\n        event.preventDefault();\r\n        setDisabled(false);\r\n        setValue('');\r\n        setproducts([]);\r\n        document.body.style.overflow = '';\r\n    };\r\n\r\n    function inputString(event: any) {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    function searchByString(event: any) {\r\n        event.preventDefault();\r\n        setChoosedString(value)\r\n        const string = value.toUpperCase().replaceAll(' ', '%20');\r\n\r\n        try {\r\n            fetch(`http://localhost:5000/api/products/:${string}`, {\r\n                method: 'get',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            }).then((response: any) => response.json())\r\n            .then((result: any) => setproducts(result))\r\n        } catch (err) {\r\n            console.error(err)\r\n        };\r\n    };\r\n\r\n    return (\r\n        <form className={styles.search} onSubmit={searchByString}>\r\n            <label className={`${styles.block} ${disabled && styles.blockActive}`}>\r\n                <img src={search} alt=\"search\" onClick={searchByString}/>\r\n                <input className={styles.text} type=\"text\" placeholder='ПОИСК' value={value} onClick={openSearch} onInput={inputString} onSubmit={searchByString}/>\r\n                <div className={`${styles.close} ${disabled && styles.closeActive}`}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" onClick={closeSearch}>\r\n                        <path d=\"M13.4294 4.06152L13.9385 4.57056L4.57056 13.9378L4.06152 13.4291L13.4294 4.06152Z\" fill=\"#7C7C7C\"/>\r\n                        <path d=\"M4.57056 4.06152L13.9385 13.4287L13.4294 13.9381L4.06152 4.57092L4.57056 4.06152Z\" fill=\"#7C7C7C\"/>\r\n                    </svg>\r\n                </div>\r\n            </label>\r\n\r\n            <div className={`${styles.ressultContainer} ${disabled && styles.ressultContainerActive}`}>\r\n                    <h2 className={styles.serchTtl}>Результат поиска: {choosedString}</h2>\r\n                    {products.length !== 0 ? \r\n                    <div className={styles.productWrapper}>\r\n                        {products.map((obj: any) => {\r\n                            return <SliderCart id={obj.id} img={img} ttl={obj.title} cost={obj.cost}/>\r\n                        }) }\r\n                    </div> :\r\n                    <div className={styles.notFoundBlock}>\r\n                        <p className={styles.notFound}>\r\n                            По данному запросу ничего не найдено. <br />\r\n                            Попробуйте еще раз или перейдите в каталог\r\n                        </p>\r\n                        <button className='greenBtn'>в каталог</button>\r\n                    </div>\r\n                    }\r\n                </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}