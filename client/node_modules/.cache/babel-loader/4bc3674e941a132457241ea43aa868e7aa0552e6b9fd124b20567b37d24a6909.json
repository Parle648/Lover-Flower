{"ast":null,"code":"import _slicedToArray from\"D:/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/redux/Lover-Flower/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import styles from'./styles/ProdList.module.scss';import SliderCart from'../../entities/SliderCart/index.tsx';import background from'../../img/product-img.png';import{getAllProducts}from'./api/api.ts';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";var ProductsList=function ProductsList(){var choosedTypes=useSelector(function(state){return state.products.value;});var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),allProducts=_React$useState2[0],setAllProducts=_React$useState2[1];React.useEffect(function(){if(localStorage.BusketInform===undefined){localStorage.setItem(\"BusketInform\",JSON.stringify([]));}try{getAllProducts().then(function(res){setAllProducts(res);});}catch(error){console.error(error);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:styles.block,children:choosedTypes.length!==0?choosedTypes.map(function(product){return/*#__PURE__*/_jsx(SliderCart,{id:product.id,img:background,ttl:product.title,cost:product.cost});}):allProducts.map(function(elem){return/*#__PURE__*/_jsx(SliderCart,{id:elem.id,img:background,ttl:elem.title,cost:elem.cost});})});};export default ProductsList;","map":{"version":3,"names":["React","styles","SliderCart","background","getAllProducts","useSelector","jsx","_jsx","ProductsList","choosedTypes","state","products","value","_React$useState","useState","_React$useState2","_slicedToArray","allProducts","setAllProducts","useEffect","localStorage","BusketInform","undefined","setItem","JSON","stringify","then","res","error","console","className","block","children","length","map","product","id","img","ttl","title","cost","elem"],"sources":["D:/Рабочий стол/redux/Lover-Flower/client/src/widgets/ProductsList/ProductsList.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './styles/ProdList.module.scss';\r\nimport SliderCart from '../../entities/SliderCart/index.tsx';\r\nimport background from '../../img/product-img.png';\r\nimport { getAllProducts } from './api/api.ts'; \r\nimport { useSelector } from 'react-redux';\r\n\r\ntype CartType = {\r\n    id: number,\r\n    img: string,\r\n    title: string,\r\n    cost: string,\r\n};\r\n\r\ntype State = {\r\n    products: {\r\n        value: [],\r\n    }\r\n};\r\n\r\nconst ProductsList = () => {\r\n    let choosedTypes = useSelector((state: State) => state.products.value);\r\n    const [allProducts, setAllProducts] = React.useState<CartType[]>([]);\r\n\r\n    \r\n    React.useEffect(() => {\r\n        if (localStorage.BusketInform === undefined) {\r\n            localStorage.setItem(\"BusketInform\", JSON.stringify([]))\r\n        }\r\n\r\n        try {\r\n            getAllProducts().then((res: any) => {\r\n                setAllProducts(res);\r\n            })\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.block}>\r\n            { choosedTypes.length !== 0 \r\n                ? choosedTypes.map((product: CartType) => {\r\n                return (\r\n                    <SliderCart id={product.id} img={background} ttl={product.title} cost={product.cost}/>\r\n                    )\r\n                }) \r\n\r\n                : allProducts.map((elem) => {\r\n                    return (\r\n                        <SliderCart id={elem.id} img={background} ttl={elem.title} cost={elem.cost}/>\r\n                    )\r\n                }) \r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductsList;"],"mappings":"sLAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,MAAO,CAAAC,UAAU,KAAM,qCAAqC,CAC5D,MAAO,CAAAC,UAAU,KAAM,2BAA2B,CAClD,OAASC,cAAc,KAAQ,cAAc,CAC7C,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAe1C,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACvB,GAAI,CAAAC,YAAY,CAAGJ,WAAW,CAAC,SAACK,KAAY,QAAK,CAAAA,KAAK,CAACC,QAAQ,CAACC,KAAK,GAAC,CACtE,IAAAC,eAAA,CAAsCb,KAAK,CAACc,QAAQ,CAAa,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAA7DI,WAAW,CAAAF,gBAAA,IAAEG,cAAc,CAAAH,gBAAA,IAGlCf,KAAK,CAACmB,SAAS,CAAC,UAAM,CAClB,GAAIC,YAAY,CAACC,YAAY,GAAKC,SAAS,CAAE,CACzCF,YAAY,CAACG,OAAO,CAAC,cAAc,CAAEC,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC,CAAC,CAC5D,CAEA,GAAI,CACArB,cAAc,CAAC,CAAC,CAACsB,IAAI,CAAC,SAACC,GAAQ,CAAK,CAChCT,cAAc,CAACS,GAAG,CAAC,CACvB,CAAC,CAAC,CACN,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACxB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIrB,IAAA,QAAKuB,SAAS,CAAE7B,MAAM,CAAC8B,KAAM,CAAAC,QAAA,CACvBvB,YAAY,CAACwB,MAAM,GAAK,CAAC,CACrBxB,YAAY,CAACyB,GAAG,CAAC,SAACC,OAAiB,CAAK,CAC1C,mBACI5B,IAAA,CAACL,UAAU,EAACkC,EAAE,CAAED,OAAO,CAACC,EAAG,CAACC,GAAG,CAAElC,UAAW,CAACmC,GAAG,CAAEH,OAAO,CAACI,KAAM,CAACC,IAAI,CAAEL,OAAO,CAACK,IAAK,CAAC,CAAC,CAE1F,CAAC,CAAC,CAEAvB,WAAW,CAACiB,GAAG,CAAC,SAACO,IAAI,CAAK,CACxB,mBACIlC,IAAA,CAACL,UAAU,EAACkC,EAAE,CAAEK,IAAI,CAACL,EAAG,CAACC,GAAG,CAAElC,UAAW,CAACmC,GAAG,CAAEG,IAAI,CAACF,KAAM,CAACC,IAAI,CAAEC,IAAI,CAACD,IAAK,CAAC,CAAC,CAErF,CAAC,CAAC,CAEL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAhC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}