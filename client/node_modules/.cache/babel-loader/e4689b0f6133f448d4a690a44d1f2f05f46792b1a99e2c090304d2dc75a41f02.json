{"ast":null,"code":"import _slicedToArray from\"D:/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/redux/Lover-Flower/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import styles from'./styles/SortBy.module.scss';import arrow from'../../img/arrow-sort-by.svg';import{useDispatch,useSelector}from'react-redux';import{updateValue}from'../../redux/slices/SortBy';import{update}from'../../redux/slices/Products';import getCurrentproducts from'./api/api.ts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SortBy=function SortBy(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),bodyActive=_React$useState2[0],setBodyActive=_React$useState2[1];var dispatch=useDispatch();var types=useSelector(function(state){return state.prodTypes;});var props=useSelector(function(state){return state.Params;});function openBody(){setBodyActive(!bodyActive);}function chooseSortType(event){dispatch(updateValue(event.currentTarget.innerText));var string=event.currentTarget.innerText;var obj={types:types,sortBy:{value:string},props:props};try{getCurrentproducts(obj).then(function(res){dispatch(update(res));});}catch(err){console.error(err);};};return/*#__PURE__*/_jsxs(\"div\",{className:styles.block,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.head,children:[/*#__PURE__*/_jsx(\"span\",{className:\"headTtl \".concat(styles.headTtl),datatype:\"rating\",children:\"\\u041F\\u043E \\u043F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u043E\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"img\",{className:styles.arrow,src:arrow,alt:\"arrow\",onClick:openBody})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.body,\" \").concat(bodyActive&&styles.bodyActive),children:[/*#__PURE__*/_jsx(\"button\",{className:styles.bodyTtl,datatype:\"\\u041F\\u043E \\u0432\\u043E\\u0437\\u0440\\u043E\\u0441\\u0442\\u0430\\u043D\\u0438\\u044E\",onClick:chooseSortType,children:\"\\u041F\\u043E \\u0432\\u043E\\u0437\\u0440\\u043E\\u0441\\u0442\\u0430\\u043D\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.bodyTtl,datatype:\"\\u041F\\u043E \\u0443\\u0431\\u044B\\u0432\\u0430\\u043D\\u0438\\u044E\",onClick:chooseSortType,children:\"\\u041F\\u043E \\u0443\\u0431\\u044B\\u0432\\u0430\\u043D\\u0438\\u044E\"})]})]});};export default SortBy;","map":{"version":3,"names":["React","styles","arrow","useDispatch","useSelector","updateValue","update","getCurrentproducts","jsx","_jsx","jsxs","_jsxs","SortBy","_React$useState","useState","_React$useState2","_slicedToArray","bodyActive","setBodyActive","dispatch","types","state","prodTypes","props","Params","openBody","chooseSortType","event","currentTarget","innerText","string","obj","sortBy","value","then","res","err","console","error","className","block","children","head","concat","headTtl","datatype","src","alt","onClick","body","bodyTtl"],"sources":["D:/Рабочий стол/redux/Lover-Flower/client/src/features/SortBy/SortBy.tsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './styles/SortBy.module.scss';\r\nimport arrow from '../../img/arrow-sort-by.svg';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateValue } from '../../redux/slices/SortBy'; \r\nimport { update } from '../../redux/slices/Products';\r\nimport getCurrentproducts from './api/api.ts';\r\n\r\nconst SortBy = () => {\r\n    const [bodyActive, setBodyActive] = React.useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const types = useSelector((state: any) => state.prodTypes);\r\n    const props = useSelector((state: any) => state.Params);\r\n\r\n    function openBody () {\r\n        setBodyActive(!bodyActive);\r\n    }\r\n\r\n    function chooseSortType (event: React.MouseEvent<HTMLButtonElement>) {\r\n        dispatch(updateValue(event.currentTarget.innerText));\r\n\r\n        const string = event.currentTarget.innerText;\r\n        const obj = { types, sortBy: {\r\n            value: string\r\n        }, props };\r\n\r\n        try {\r\n            getCurrentproducts(obj)\r\n            .then((res: any) => {\r\n                dispatch(update(res));\r\n            })\r\n        } catch (err) {\r\n            console.error(err)\r\n        };\r\n    };\r\n   \r\n    return (\r\n        <div className={styles.block}>\r\n            <div className={styles.head}>\r\n                <span className={`headTtl ${styles.headTtl}`} datatype='rating'>По популярности</span>\r\n                <img className={styles.arrow} src={arrow} alt=\"arrow\" onClick={openBody}/>\r\n            </div>\r\n            <div className={`${styles.body} ${bodyActive && styles.bodyActive}`}>\r\n                <button className={styles.bodyTtl} datatype='По возростанию' onClick={chooseSortType}>По возростанию</button>\r\n                <button className={styles.bodyTtl} datatype='По убыванию' onClick={chooseSortType}>По убыванию</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SortBy;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}